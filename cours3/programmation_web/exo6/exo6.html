<html>
    <head>
	<script type="text/javascript">
		window.addEventListener("DOMContentLoaded", () => {

			const canvas = document.getElementById('myCanvas');
			const audio = document.querySelector("#player");

			audio.addEventListener("timeupdate", (e) => {
				updateCanvas(e.target.duration, e.target.currentTime);
			});

			const ctx = canvas.getContext('2d');
			
		
			const updateCanvas = (duration, currentTime) => {

				let tot = (2*Math.PI) / duration;
				let degre = currentTime * tot;
				ctx.beginPath();
				ctx.arc(50, 50, 50, 0, degre, false);
				ctx.stroke();
			}
		});
	</script>
    </head>
    <body>
	<audio id="player" controls preload tabindex="0">
	<source type="audio/wav" src="./son.wav"/> 
	Your  browser does not support HTML5 audio.
	</audio>
	<canvas id="myCanvas" width="200" height="200"/>
    </body>
</html>
